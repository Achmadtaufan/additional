DECLARE @TableName SYSNAME = 'NamaTable'
DECLARE @SchemaName SYSNAME = 'dbo'

DECLARE @SQL NVARCHAR(MAX) = ''

SELECT @SQL = @SQL + '
SELECT 
    ''' + c.name + ''' AS ColumnName,
    MAX(LEN(CAST(' + QUOTENAME(c.name) + ' AS NVARCHAR(MAX)))) AS MaxLength
FROM ' + QUOTENAME(@SchemaName) + '.' + QUOTENAME(@TableName) + '
UNION ALL'
FROM sys.columns c
WHERE c.object_id = OBJECT_ID(@SchemaName + '.' + @TableName)

SET @SQL = LEFT(@SQL, LEN(@SQL) - 10)

EXEC sp_executesql @SQL